# SonarQube Configuration for Clean Architecture Generator Core

# Project identification
sonar.projectKey=com.pragma:archetype-generator-core
sonar.projectName=Clean Architecture Generator Core
sonar.projectVersion=1.0.0-PRERELEASE

# Source and test directories
sonar.sources=src/main/java
sonar.tests=src/test/java

# Java version
sonar.java.source=21
sonar.java.target=21

# Encoding
sonar.sourceEncoding=UTF-8

# Coverage report paths
# JaCoCo generates XML report in build/reports/jacoco/test/jacocoTestReport.xml
sonar.coverage.jacoco.xmlReportPaths=build/reports/jacoco/test/jacocoTestReport.xml

# Binary directories (compiled classes)
sonar.java.binaries=build/classes/java/main
sonar.java.test.binaries=build/classes/java/test

# Library directories
sonar.java.libraries=build/libs/**/*.jar

# Exclusions
sonar.exclusions=\
  **/*Test.java,\
  **/*Tests.java,\
  **/test/**,\
  **/build/**,\
  **/.gradle/**,\
  **/gradle/**,\
  **/bin/**

# Test exclusions
sonar.test.exclusions=\
  src/test/**

# Coverage exclusions (files to exclude from coverage calculation)
sonar.coverage.exclusions=\
  **/config/**,\
  **/infrastructure/config/**,\
  **/*Plugin.java,\
  **/*Task.java,\
  **/domain/model/**,\
  **/domain/port/**

# Lombok-generated code exclusions
# Lombok generates methods that inflate coverage metrics
# These patterns exclude Lombok-generated code from coverage
sonar.issue.ignore.multicriteria=e1,e2,e3

# Exclude Lombok-generated methods from coverage
sonar.issue.ignore.multicriteria.e1.ruleKey=java:S1068
sonar.issue.ignore.multicriteria.e1.resourceKey=**/*.java

sonar.issue.ignore.multicriteria.e2.ruleKey=java:S1172
sonar.issue.ignore.multicriteria.e2.resourceKey=**/*.java

sonar.issue.ignore.multicriteria.e3.ruleKey=java:S1186
sonar.issue.ignore.multicriteria.e3.resourceKey=**/*.java

# Duplication exclusions
sonar.cpd.exclusions=\
  **/domain/model/**,\
  **/test/**

# Analysis parameters
sonar.scm.provider=git
sonar.scm.disabled=false

# Quality Gate
sonar.qualitygate.wait=false

# Additional settings
sonar.java.coveragePlugin=jacoco
sonar.dynamicAnalysis=reuseReports
